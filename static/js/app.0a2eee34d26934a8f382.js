webpackJsonp([1],{DqiH:function(t,e){},F3GD:function(t,e){},JmVx:function(t,e){},NHnr:function(t,e,s){"use strict";function r(t){s("nctT")}function n(t){s("DqiH")}function a(t){s("F3GD")}function o(t){s("YeJ3")}function i(t){s("OSAI")}Object.defineProperty(e,"__esModule",{value:!0});var l={};s.d(l,"getTable_all",function(){return Ot}),s.d(l,"getGoods",function(){return $t}),s.d(l,"getTable",function(){return Lt});var c=s("GIDf"),u={name:"app"},d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},_=[],b={render:d,staticRenderFns:_},f=b,p=s("kgPM"),v=r,m=p(u,f,!1,v,null,null),g=m.exports,h=s("byqf"),y={data:function(){return{}},computed:{urlIndex:function(){return this.$route.path}}},N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-menu",{staticClass:"leftnav",attrs:{"default-active":t.urlIndex,router:!0,"background-color":"#409EFF","text-color":"#878D99","active-text-color":"#fff"}},[s("el-menu-item",{attrs:{index:"/"}},[s("i",{staticClass:"iconfont icon-shouye1"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),t._v(" "),s("el-menu-item",{attrs:{index:"/table"}},[s("i",{staticClass:"iconfont icon-canzhuo1"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("餐桌")])]),t._v(" "),s("el-menu-item",{attrs:{index:"/total"}},[s("i",{staticClass:"iconfont icon-tongji1"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("统计")])])],1)],1)},k=[],T={render:N,staticRenderFns:k},w=T,C=s("kgPM"),x=n,O=C(y,w,!1,x,null,null),$=O.exports,L=(s("Q4e9"),{mounted:function(){var t=document.body.clientHeight;document.getElementById("leftNav").style.height=t+"px"},components:{leftNav:$}}),R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",[s("el-col",{attrs:{span:3}},[s("left-nav",{staticClass:"hidden-sm-and-down",attrs:{id:"leftNav"}})],1),t._v(" "),s("el-col",{attrs:{span:21}},[s("router-view")],1)],1)],1)},G=[],E={render:R,staticRenderFns:G},D=E,U=s("kgPM"),F=a,S=U(L,D,!1,F,null,null),P=S.exports,M={},A=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\n    this is indexPage.\n")])},I=[],j={render:A,staticRenderFns:I},H=j,J=s("kgPM"),q=J(M,H,!1,null,null,null),Y=q.exports,z=s("B2YR"),B=s.n(z),Q=s("dXqY"),V={data:function(){return{orderList:[]}},methods:{orderList_add:function(t){var e=this.orderList.filter(function(e){return e.goodsName==t.goodsName}),s={goodsName:t.goodsName,price:t.price,count:1};""==e?this.orderList.push(s):this.orderList.forEach(function(e){e.goodsName==t.goodsName&&e.count++})},orderList_del:function(){this.$emit("order_close"),this.orderList=[],this.$message({message:"点餐取消！",type:"error"})},orderList_success:function(){this.$emit("order_success",this.orderList),this.$emit("order_close"),this.orderList=[],this.$message({message:"点餐成功！",type:"success"})},handleAdd:function(t,e){e.count++},handleDel:function(t,e){this.orderList.splice(t,1)}},computed:B()({},Object(Q.b)(["getGoods"]),{getGoods1:function(){return this.$store.getters.getGoods.filter(function(t){return"凉粉系列"==t.category})},getGoods2:function(){return this.$store.getters.getGoods.filter(function(t){return"雪山系列"==t.category})},getGoods3:function(){return this.$store.getters.getGoods.filter(function(t){return"西米露系列"==t.category})},getGoods4:function(){return this.$store.getters.getGoods.filter(function(t){return"糕点系列"==t.category})}})},X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",{attrs:{type:"flex",justify:"space-around"}},[s("el-col",{attrs:{span:8}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderList,"max-height":"300"}},[s("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"count",label:"数量",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"price",label:"金额",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){t.handleAdd(e.$index,e.row)}}},[t._v("增加")]),t._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),s("div",{staticClass:"order_control_btn"},[s("el-button",{attrs:{type:"primary"},on:{click:t.orderList_success}},[t._v("完成点餐")]),t._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:t.orderList_del}},[t._v("取消点餐")])],1)],1),t._v(" "),s("el-col",{attrs:{span:16}},[s("el-tabs",{staticStyle:{height:"390px"},attrs:{"tab-position":"right"}},[s("el-tab-pane",{attrs:{label:"凉粉系列"}},t._l(t.getGoods1,function(e,r){return s("ul",{key:r,staticClass:"goods_list"},[s("li",[s("el-button",{on:{click:function(s){t.orderList_add(e)}}},[t._v(t._s(e.goodsName)),s("span",[t._v("￥"+t._s(e.price))])])],1)])})),t._v(" "),s("el-tab-pane",{attrs:{label:"雪山系列"}},t._l(t.getGoods2,function(e,r){return s("ul",{key:r,staticClass:"goods_list"},[s("li",[s("el-button",{on:{click:function(s){t.orderList_add(e)}}},[t._v(t._s(e.goodsName)),s("span",[t._v("￥"+t._s(e.price))])])],1)])})),t._v(" "),s("el-tab-pane",{attrs:{label:"西米露系列"}},t._l(t.getGoods3,function(e,r){return s("ul",{key:r,staticClass:"goods_list"},[s("li",[s("el-button",{on:{click:function(s){t.orderList_add(e)}}},[t._v(t._s(e.goodsName)),s("span",[t._v("￥"+t._s(e.price))])])],1)])})),t._v(" "),s("el-tab-pane",{attrs:{label:"糕点系列"}},t._l(t.getGoods4,function(e,r){return s("ul",{key:r,staticClass:"goods_list"},[s("li",[s("el-button",{on:{click:function(s){t.orderList_add(e)}}},[t._v(t._s(e.goodsName)),s("span",[t._v("￥"+t._s(e.price))])])],1)])}))],1)],1)],1)],1)},Z=[],K={render:X,staticRenderFns:Z},W=K,tt=s("kgPM"),et=o,st=tt(V,W,!1,et,null,null),rt=st.exports,nt={components:{"order-page":rt},data:function(){return{showControl:!1,showOrder:!1,activeTableNumber:0,activeName:"all",table_status:"",table_hasReserved:!1,table_isUsing:!1,orderList:[]}},methods:{controlTable:function(t){this.showControl=!0,this.activeTableNumber=t.id,this.table_status=t.status,"using"==this.table_status?this.table_isUsing=!0:this.table_isUsing=!1,"reserved"==this.table_status?this.table_hasReserved=!0:this.table_hasReserved=!1},table_orderSuccess:function(t){this.orderList=t;var e=[this.activeTableNumber].concat(this.orderList);this.$store.commit("ON_Order",e),this.$store.commit("ON_Using",this.activeTableNumber),this.showControl=!1},controlOrder:function(){this.showOrder?this.showOrder=!1:this.showOrder=!0},close_controlDialog:function(){this.showControl=!1},getSummaries:function(t){var e=t.columns,s=t.data,r=[];return e.forEach(function(t,e){if(0===e)return void(r[e]="总价");var n=s.map(function(e){return Number(e[t.property])});n.every(function(t){return isNaN(t)})?r[e]="N/A":(r[e]=n.reduce(function(t,e){var s=Number(e);return isNaN(s)?t:t+e},0),r[2]+=" 元")}),r}},computed:B()({},Object(Q.b)(["getTable_all"]),{getTable_using:function(){return this.$store.getters.getTable_all.filter(function(t){return"using"==t.status})},getTable_reserved:function(){return this.$store.getters.getTable_all.filter(function(t){return"reserved"==t.status})},getTable_empty:function(){return this.$store.getters.getTable_all.filter(function(t){return"empty"==t.status})},getOrder:function(){var t=0;return t=0==this.activeTableNumber?0:this.activeTableNumber-1,this.$store.getters.getTable(t)}})},at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("餐桌管理")]),t._v(" "),s("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"总览",name:"all"}},[s("el-row",{staticClass:"table_all"},t._l(t.getTable_all,function(e,r){return s("el-col",{key:r,attrs:{span:4}},[s("li",{staticClass:"table-item",class:e.status,on:{click:function(s){t.controlTable(e)}}},[s("span",[t._v(t._s(e.id))])])])}))],1),t._v(" "),s("el-tab-pane",{attrs:{label:"用餐中",name:"second"}},[s("el-row",{staticClass:"table_using"},t._l(t.getTable_using,function(e,r){return s("el-col",{key:r,attrs:{span:4}},[s("li",{staticClass:"table-item",class:e.status,on:{click:function(s){t.controlTable(e)}}},[s("span",[t._v(t._s(e.id))])])])}))],1),t._v(" "),s("el-tab-pane",{attrs:{label:"已预约",name:"third"}},[s("el-row",{staticClass:"table_reserved"},t._l(t.getTable_reserved,function(e,r){return s("el-col",{key:r,attrs:{span:4}},[s("li",{staticClass:"table-item",class:e.status,on:{click:function(s){t.controlTable(e)}}},[s("span",[t._v(t._s(e.id))])])])}))],1),t._v(" "),s("el-tab-pane",{attrs:{label:"空余中",name:"fourth"}},[s("el-row",{staticClass:"table_empty"},t._l(t.getTable_empty,function(e,r){return s("el-col",{key:r,attrs:{span:4}},[s("li",{staticClass:"table-item",class:e.status,on:{click:function(s){t.controlTable(e)}}},[s("span",[t._v(t._s(e.id))])])])}))],1)],1),t._v(" "),s("el-dialog",{staticClass:"tableControl_dialog",attrs:{title:this.activeTableNumber+"号餐桌操作",visible:t.showControl,width:"30%",center:""},on:{"update:visible":function(e){t.showControl=e}}},[t._t("default",[s("p",[t._v("\n              当前状态:\n              "),this.table_isUsing?s("span",{staticClass:"using"},[t._v("用餐中")]):t._e(),t._v(" "),this.table_hasReserved?s("span",{staticClass:"reserved"},[t._v("已预约")]):t._e(),t._v(" "),this.table_isUsing||this.table_hasReserved?t._e():s("span",{staticClass:"empty"},[t._v("空余中")])]),t._v(" "),t.table_isUsing?s("el-table",{staticStyle:{"margin-bottom":"20px"},attrs:{data:t.getOrder,"max-height":"250","show-summary":"","summary-method":t.getSummaries}},[s("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"count",label:"数量",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"price",label:"金额（元）",align:"center"}})],1):t._e(),t._v(" "),t.table_isUsing?t._e():s("div",{staticClass:"reserved_btn",on:{click:t.close_controlDialog}},[this.table_hasReserved?t._e():s("el-button",{staticClass:"onReserved",on:{click:function(e){t.$store.commit("ON_Reserved",t.activeTableNumber)}}},[t._v("预约餐桌")]),t._v(" "),this.table_hasReserved?s("el-button",{on:{click:function(e){t.$store.commit("ON_Empty",t.activeTableNumber)}}},[t._v("取消预约")]):t._e()],1),t._v(" "),this.table_isUsing?t._e():s("el-button",{attrs:{type:"primary"},on:{click:t.controlOrder}},[t._v("立即点餐")]),t._v(" "),this.table_isUsing?s("el-button",{attrs:{type:"primary"}},[t._v("结账")]):t._e(),t._v(" "),this.table_isUsing?s("el-button",{on:{click:t.controlOrder}},[t._v("继续点餐")]):t._e()])],2),t._v(" "),s("el-dialog",{staticClass:"order_dialog",attrs:{visible:t.showOrder,width:"100%",top:"10vh",center:"","show-close":!1,"close-on-click-modal":!1,title:this.activeTableNumber+"号餐桌点餐中"},on:{"update:visible":function(e){t.showOrder=e}}},[t._t("default",[s("order-page",{attrs:{orderlist:t.getOrder},on:{order_close:t.controlOrder,order_success:t.table_orderSuccess}})])],2)],1)},ot=[],it={render:at,staticRenderFns:ot},lt=it,ct=s("kgPM"),ut=i,dt=ct(nt,lt,!1,ut,"data-v-7c6aceb6",null),_t=dt.exports,bt={},ft=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\n    this is totalPage.\n")])},pt=[],vt={render:ft,staticRenderFns:pt},mt=vt,gt=s("kgPM"),ht=gt(bt,mt,!1,null,null,null),yt=ht.exports;c.default.use(h.a);var Nt,kt=new h.a({routes:[{path:"/",component:P,children:[{path:"/",name:"Index",component:Y},{path:"/table",name:"TableDetails",component:_t},{path:"/total",name:"TotalDetails",component:yt}]}]}),Tt=s("n51Z"),wt=s.n(Tt),Ct=(s("JmVx"),{table:[{id:1,status:"using",orderlist:[]},{id:2,status:"empty",orderlist:[]},{id:3,status:"reserved",orderlist:[]},{id:4,status:"empty",orderlist:[]},{id:5,status:"empty",orderlist:[]},{id:6,status:"empty",orderlist:[]},{id:7,status:"empty",orderlist:[]},{id:8,status:"empty",orderlist:[]},{id:9,status:"empty",orderlist:[]},{id:10,status:"empty",orderlist:[]}],goods:[{goodsName:"椰汁凉粉",category:"凉粉系列",price:19},{goodsName:"西瓜凉粉",category:"凉粉系列",price:19},{goodsName:"芒果凉粉",category:"凉粉系列",price:28},{goodsName:"鲜杂果凉粉",category:"凉粉系列",price:33},{goodsName:"雪山榴莲",category:"雪山系列",price:39},{goodsName:"椰汁马豆糕",category:"糕点系列",price:16}]}),xt=Ct,Ot=function(t){return t.table},$t=function(t){return t.goods},Lt=function(t){return function(e){return t.table[e].orderlist}},Rt=s("hNT/"),Gt=s.n(Rt),Et=(Nt={},Gt()(Nt,"ON_Reserved",function(t,e){t.table[e-1].status="reserved"}),Gt()(Nt,"ON_Empty",function(t,e){t.table[e-1].status="empty"}),Gt()(Nt,"ON_Using",function(t,e){t.table[e-1].status="using"}),Gt()(Nt,"ON_Order",function(t,e){var s=t.table[e[0]-1],r=e.slice(1),n=!1,a=0;if(s.orderlist.forEach(function(t){r.forEach(function(e,s){e.goodsName==t.goodsName&&(n=!0,t.count+=e.count,t.price+=e.price,a=s)})}),0==s.orderlist.length)s.orderlist=r;else if(n){var o=r.splice(a+1,1);s.orderlist=s.orderlist.concat(o)}}),Nt),Dt=Et;c.default.use(Q.a);var Ut=new Q.a.Store({state:xt,getters:l,mutations:Dt});c.default.use(wt.a),c.default.config.productionTip=!1,new c.default({el:"#app",router:kt,store:Ut,template:"<App/>",components:{App:g}})},OSAI:function(t,e){},Q4e9:function(t,e){},YeJ3:function(t,e){},nctT:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0a2eee34d26934a8f382.js.map